<div class="flex flex-col w-full min-h-full max-w-md mx-auto px-4 pt-6 pb-24 space-y-6">

    <!-- Card ahorro acumulado -->
    <div class="card bg-base-200 shadow-sm">
      <div class="card-body py-5 flex flex-col gap-1">
        <h3 class="card-title opacity-70">Ahorro acumulado</h3>
        <h1 class="text-5xl font-semibold">
          {{ totalSavings() | number:'1.2-2' }} â‚¬
        </h1>
      </div>
    </div>

    <!-- GrÃ¡fica -->
    <div class="card bg-base-200 shadow-sm">
      <div class="card-body py-5">
        <h3 class="card-title opacity-70 mb-4">EvoluciÃ³n del ahorro</h3>
        @if (savingsBySalary().length > 0) {
          <div class="h-48">
            <canvas baseChart
              [data]="chartData()"
              [options]="chartOptions"
              type="bar">
            </canvas>
          </div>
        } @else {
          <p class="text-center py-8 opacity-60">No hay datos para mostrar</p>
        }
      </div>
    </div>

    <!-- Ahorro medio -->
    <div class="card bg-base-200 shadow-sm">
      <div class="card-body py-4">
        <p class="text-lg text-center">
          <span class="opacity-70">Ahorro medio:</span>
          <span class="font-semibold">{{ averageSavings() | number:'1.2-2' }} â‚¬</span>
        </p>
      </div>
    </div>

    <!-- Listado de sueldos con ahorro -->
    <div class="card bg-base-200 shadow-sm">
      <div class="card-body p-4">
        <h3 class="card-title opacity-70 mb-3">Ahorro por sueldo</h3>
        <ul class="space-y-3">
          @for (item of savingsBySalary(); track item.salary.id) {
            <li class="flex items-center justify-between bg-base-100 rounded-lg px-4 py-3">
              <div class="flex items-center gap-3">
                <div class="avatar placeholder">
                  <div class="bg-primary/10 text-primary rounded-full w-10 h-10 flex justify-center items-center text-xl">
                    <span>ðŸ’°</span>
                  </div>
                </div>
                <div>
                  <p class="text-lg font-medium leading-tight">{{ item.salary.amount | number:'1.2-2' }} â‚¬</p>
                  <p class="text-sm opacity-60 capitalize">{{ item.salary.date | date:'MMMM yyyy' }}</p>
                </div>
              </div>
              <div class="text-right">
                <p class="text-lg font-semibold" [class.text-success]="item.saving > 0" [class.text-error]="item.saving < 0">
                  {{ item.saving > 0 ? '+' : '' }}{{ item.saving | number:'1.2-2' }} â‚¬
                </p>
                <p class="text-xs opacity-60">ahorro</p>
              </div>
            </li>
          } @empty {
            <li class="text-center py-8 opacity-60">
              No hay sueldos registrados
            </li>
          }
        </ul>
      </div>
    </div>

</div>
